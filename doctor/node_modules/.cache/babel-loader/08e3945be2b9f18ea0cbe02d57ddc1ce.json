{"ast":null,"code":"var _jsxFileName = \"/Users/toppr/myDoctor+/myDoc+/doctor/src/components/patientsList/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport Header from \"../header\";\nimport PatientListCard from \"../patientListCard\";\nimport SubHeader from \"../subHeader\";\nimport axios from \"axios\";\nimport isEmpty from \"lodash/isEmpty\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function PatientList() {\n  _s();\n\n  const history = useHistory();\n  const doctor = JSON.parse(localStorage.getItem(\"doc\"));\n  const [startData, setStartData] = useState(null);\n  const [activeToggle, SetActiveToggle] = useState(Boolean(+doctor.activity));\n  const [toggleLoading, settoggleLoading] = useState(false);\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer ${doctor.token}`;\n  var interval;\n\n  const handleGetStartConsultData = () => {\n    axios.get(`https://myplusdoctor.med2myhome.com/api/doctor/startdoctorconsult?doctor_id=${doctor.id}`).then(res => {\n      setStartData(res.data.data);\n      console.log(res.data);\n    });\n  };\n\n  useEffect(() => {\n    handleGetStartConsultData();\n    interval = setInterval(handleGetStartConsultData, 1000);\n  }, []);\n\n  const handleStartConsult = _ => {\n    const {\n      patient_id,\n      booking_id,\n      meeting_url\n    } = startData;\n    history.push(\"/consult\", {\n      patient_id,\n      booking_id,\n      meeting_url\n    });\n  };\n\n  const handleActivityChange = e => {\n    settoggleLoading(true);\n    axios.post(\" https://myplusdoctor.med2myhome.com/api/doctor/consultactivity\", {\n      activity: +e\n    }).then(res => {\n      SetActiveToggle(e);\n      settoggleLoading(false);\n    });\n  };\n\n  useEffect(() => {\n    clearInterval(interval);\n  }, [startData]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        userName: `${doctor.first_name} ${doctor.last_name}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SubHeader, {\n        label: \"Manage Patients\",\n        activeToggle: activeToggle,\n        showToggle: true,\n        onchange: handleActivityChange,\n        toggleLoading: toggleLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex  flex-column align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fw-bold my-3 \",\n          style: {\n            fontSize: \"20px\"\n          },\n          children: `Welcome Dr${doctor.first_name} ${doctor.last_name}!`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), !isEmpty(startData) ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card d-flex flex-row w-75 justify-content-between align-items-center p-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Patient 1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: handleStartConsult,\n            children: \"Start Consult\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \" my-3 text-muted\",\n          children: \"No Patinets are available! \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(PatientList, \"MCLs741rFwo6az3oIxmarsqUHPo=\", false, function () {\n  return [useHistory];\n});\n\n_c = PatientList;\n\nvar _c;\n\n$RefreshReg$(_c, \"PatientList\");","map":{"version":3,"sources":["/Users/toppr/myDoctor+/myDoc+/doctor/src/components/patientsList/index.js"],"names":["React","useEffect","useRef","useState","Header","PatientListCard","SubHeader","axios","isEmpty","useHistory","PatientList","history","doctor","JSON","parse","localStorage","getItem","startData","setStartData","activeToggle","SetActiveToggle","Boolean","activity","toggleLoading","settoggleLoading","defaults","headers","common","token","interval","handleGetStartConsultData","get","id","then","res","data","console","log","setInterval","handleStartConsult","_","patient_id","booking_id","meeting_url","push","handleActivityChange","e","post","clearInterval","first_name","last_name","fontSize"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport Header from \"../header\";\nimport PatientListCard from \"../patientListCard\";\nimport SubHeader from \"../subHeader\";\nimport axios from \"axios\";\nimport isEmpty from \"lodash/isEmpty\";\n\nimport { useHistory } from \"react-router-dom\";\n\nexport default function PatientList() {\n  const history = useHistory();\n\n  const doctor = JSON.parse(localStorage.getItem(\"doc\"));\n\n  const [startData, setStartData] = useState(null);\n  const [activeToggle, SetActiveToggle] = useState(Boolean(+doctor.activity));\n  const [toggleLoading, settoggleLoading] = useState(false)\n\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer ${doctor.token}`;\n\n  var interval;\n\n  const handleGetStartConsultData = () => {\n    axios\n      .get(\n        `https://myplusdoctor.med2myhome.com/api/doctor/startdoctorconsult?doctor_id=${doctor.id}`\n      )\n      .then((res) => {\n        setStartData(res.data.data);\n        console.log(res.data)\n      });\n  };\n\n  useEffect(() => {\n    handleGetStartConsultData();\n    interval = setInterval(handleGetStartConsultData, 1000);\n  }, []);\n\n  const handleStartConsult = (_) => {\n    const { patient_id, booking_id, meeting_url } = startData;\n    history.push(\"/consult\", { patient_id, booking_id, meeting_url });\n  };\n\n  const handleActivityChange = (e) => {\n      settoggleLoading(true)\n    axios\n      .post(\" https://myplusdoctor.med2myhome.com/api/doctor/consultactivity\", {\n        activity: +e,\n      })\n      .then((res) => {\n        SetActiveToggle(e)\n        settoggleLoading(false)\n      });\n  };\n\n  useEffect(()=>{\n    clearInterval(interval)\n  },[startData])\n\n  return (\n    <>\n      <div>\n        <Header userName={`${doctor.first_name} ${doctor.last_name}`} />\n        <SubHeader\n          label={\"Manage Patients\"}\n          activeToggle={activeToggle}\n          showToggle={true}\n          onchange={handleActivityChange}\n          toggleLoading={toggleLoading}\n        />\n\n        <div className=\"d-flex  flex-column align-items-center\">\n          <div className=\"fw-bold my-3 \" style={{ fontSize: \"20px\" }}>\n            {`Welcome Dr${doctor.first_name} ${doctor.last_name}!`}\n          </div>\n\n          {!isEmpty(startData) ? (\n            <div className=\"card d-flex flex-row w-75 justify-content-between align-items-center p-2\">\n              <div>Patient 1</div>\n              <button className=\"btn btn-primary\" onClick={handleStartConsult}>\n                Start Consult\n              </button>\n            </div>\n          ) : (\n            <div className=\" my-3 text-muted\">No Patinets are available! </div>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}