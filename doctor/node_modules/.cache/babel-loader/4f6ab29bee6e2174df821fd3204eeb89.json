{"ast":null,"code":"var _jsxFileName = \"/Users/toppr/myDoctor+/myDoc+/doctor/src/components/patientsList/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport Header from \"../header\";\nimport PatientListCard from \"../patientListCard\";\nimport SubHeader from \"../subHeader\";\nimport axios from \"axios\";\nimport isEmpty from \"lodash/isEmpty\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function PatientList() {\n  _s();\n\n  const history = useHistory();\n  const doctor = JSON.parse(localStorage.getItem(\"doc\"));\n  const [startData, setStartData] = useState([]);\n  const [activeToggle, SetActiveToggle] = useState(Boolean(+doctor.activity));\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer ${doctor.token}`;\n\n  const handleGetStartConsultData = () => {\n    axios.get(`https://myplusdoctor.med2myhome.com/api/doctor/startdoctorconsult?doctor_id=${doctor.id}`).then(res => {\n      setStartData([res.data]);\n    });\n  };\n\n  useEffect(() => {\n    handleGetStartConsultData();\n    setInterval(handleGetStartConsultData, 10000);\n  }, []);\n\n  const handleStartConsult = _ => {\n    const {\n      patient_id,\n      booking_id\n    } = startData;\n    history.push(\"/consult\", {\n      patient_id,\n      booking_id\n    });\n  };\n\n  const handleActivityChange = e => {\n    SetActiveToggle(!e);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        userName: `${doctor.first_name} ${doctor.last_name}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SubHeader, {\n        label: \"Manage Patients\",\n        activeToggle: activeToggle,\n        showToggle: true,\n        onchange: handleActivityChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex  flex-column align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fw-bold my-3 \",\n          style: {\n            fontSize: \"20px\"\n          },\n          children: \"Welcome Doctor!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \" my-3 text-muted\",\n          children: `Waiting List(${startData === null || startData === void 0 ? void 0 : startData.length})`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), startData === null || startData === void 0 ? void 0 : startData.map((key, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card d-flex flex-row w-75 justify-content-between align-items-center p-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Patient 1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: handleStartConsult,\n            children: \"Start Consult\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(PatientList, \"O9mKma86fGedwTvA4o/tnp9zZbI=\", false, function () {\n  return [useHistory];\n});\n\n_c = PatientList;\n\nvar _c;\n\n$RefreshReg$(_c, \"PatientList\");","map":{"version":3,"sources":["/Users/toppr/myDoctor+/myDoc+/doctor/src/components/patientsList/index.js"],"names":["React","useEffect","useRef","useState","Header","PatientListCard","SubHeader","axios","isEmpty","useHistory","PatientList","history","doctor","JSON","parse","localStorage","getItem","startData","setStartData","activeToggle","SetActiveToggle","Boolean","activity","defaults","headers","common","token","handleGetStartConsultData","get","id","then","res","data","setInterval","handleStartConsult","_","patient_id","booking_id","push","handleActivityChange","e","first_name","last_name","fontSize","length","map","key","i"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport Header from \"../header\";\nimport PatientListCard from \"../patientListCard\";\nimport SubHeader from \"../subHeader\";\nimport axios from \"axios\";\nimport isEmpty from \"lodash/isEmpty\";\n\nimport { useHistory } from \"react-router-dom\";\n\nexport default function PatientList() {\n  const history = useHistory();\n\n  const doctor = JSON.parse(localStorage.getItem(\"doc\"));\n\n  const [startData, setStartData] = useState([]);\n  const [activeToggle, SetActiveToggle] = useState(Boolean(+doctor.activity));\n\n\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer ${doctor.token}`;\n\n  const handleGetStartConsultData = () => {\n    axios\n      .get(\n        `https://myplusdoctor.med2myhome.com/api/doctor/startdoctorconsult?doctor_id=${doctor.id}`\n      )\n      .then((res) => {\n        setStartData([res.data]);\n      });\n  };\n\n  useEffect(() => {\n    handleGetStartConsultData();\n    setInterval(handleGetStartConsultData, 10000);\n  }, []);\n\n  const handleStartConsult = (_) => {\n    const { patient_id, booking_id } = startData;\n    history.push(\"/consult\", { patient_id, booking_id });\n  };\n\n  const handleActivityChange =  (e) => {\n    SetActiveToggle(!e)\n  }\n\n  return (\n    <>\n      <div>\n        <Header userName={`${doctor.first_name} ${doctor.last_name}`} />\n        <SubHeader\n          label={\"Manage Patients\"}\n          activeToggle={activeToggle}\n          showToggle={true}\n          onchange={handleActivityChange}\n        />\n\n        <div className=\"d-flex  flex-column align-items-center\">\n          <div className=\"fw-bold my-3 \" style={{ fontSize: \"20px\" }}>\n            Welcome Doctor!\n          </div>\n\n          <div className=\" my-3 text-muted\">{`Waiting List(${startData?.length})`}</div>\n\n          {startData?.map((key, i) => (\n            <div\n              className=\"card d-flex flex-row w-75 justify-content-between align-items-center p-2\"\n              key={i}\n            >\n              <div>Patient 1</div>\n              <button className=\"btn btn-primary\" onClick={handleStartConsult}>\n                Start Consult\n              </button>\n            </div>\n          ))}\n        </div>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}